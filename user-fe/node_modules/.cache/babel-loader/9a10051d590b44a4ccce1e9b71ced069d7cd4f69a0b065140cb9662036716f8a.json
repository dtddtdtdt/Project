{"ast":null,"code":"import axios from 'axios';\nimport { loginFailed, loginStart, loginSuccess, registerFailed, registerSuccess, registerStart, logOutStart, logOutSuccess, logOutFailed } from './authSlice';\nimport { getUserFailed, getUserStart, getUserSuccess } from './userSlice';\nexport const loginUser = async (user, dispatch, navigate) => {\n  dispatch(loginStart());\n  try {\n    const res = await axios.post(\"https://server-api-guke.onrender.com/v1/auth/login\", user);\n    dispatch(loginSuccess(res.data));\n    navigate(\"/\");\n  } catch (err) {\n    dispatch(loginFailed());\n  }\n};\nexport const registerUser = async (user, dispatch, navigate) => {\n  dispatch(registerStart());\n  try {\n    await axios.post(\"https://server-api-guke.onrender.com/v1/auth/register\", user);\n    dispatch(registerSuccess());\n    navigate(\"/login\");\n  } catch (err) {\n    dispatch(registerFailed());\n  }\n};\n\n// LogOut User\n\nexport const logOut = async (dispatch, id, navigate, accessToken, axiosJWT) => {\n  dispatch(logOutStart());\n  try {\n    await axiosJWT.post(\"https://server-api-guke.onrender.com/v1/auth/logout\", id, {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(logOutSuccess());\n    navigate(\"/login\");\n  } catch (err) {\n    dispatch(logOutFailed());\n  }\n};\n\n/// add token to header\nexport const getAllUser = async (accessToken, dispatch) => {\n  dispatch(getUserStart());\n  try {\n    const res = await axios.get('https://server-api-guke.onrender.com/v1/user', {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(getUserSuccess(res.data));\n  } catch (err) {\n    dispatch(getUserFailed());\n  }\n};","map":{"version":3,"names":["axios","loginFailed","loginStart","loginSuccess","registerFailed","registerSuccess","registerStart","logOutStart","logOutSuccess","logOutFailed","getUserFailed","getUserStart","getUserSuccess","loginUser","user","dispatch","navigate","res","post","data","err","registerUser","logOut","id","accessToken","axiosJWT","headers","token","getAllUser","get"],"sources":["D:/TÀI LIỆU HỌC TẬP/Phát triển ứng dụng web/Lý thuyết/WebProject/Project/user-fe/src/redux/apiRequest.js"],"sourcesContent":["import axios from 'axios';\r\nimport { loginFailed, loginStart, loginSuccess, registerFailed, registerSuccess, registerStart, logOutStart, logOutSuccess, logOutFailed } from './authSlice';\r\nimport { getUserFailed, getUserStart, getUserSuccess } from './userSlice';\r\n\r\n\r\nexport const loginUser = async(user, dispatch, navigate) => {\r\n    dispatch(loginStart());\r\n    try{\r\n        const res = await axios.post(\"https://server-api-guke.onrender.com/v1/auth/login\", user);\r\n        dispatch(loginSuccess(res.data));\r\n        navigate(\"/\");\r\n    } catch(err) {\r\n        dispatch(loginFailed());\r\n    }\r\n}\r\n\r\nexport const registerUser = async(user, dispatch, navigate) =>{\r\n    dispatch(registerStart());\r\n    try{\r\n        await axios.post(\"https://server-api-guke.onrender.com/v1/auth/register\", user);\r\n        dispatch(registerSuccess());\r\n        navigate(\"/login\");\r\n    } catch(err){\r\n        dispatch(registerFailed());\r\n    }\r\n}\r\n\r\n\r\n\r\n// LogOut User\r\n\r\n\r\nexport const logOut = async(dispatch, id, navigate, accessToken, axiosJWT) => {\r\n    dispatch(logOutStart());\r\n    try{\r\n        await axiosJWT.post(\"https://server-api-guke.onrender.com/v1/auth/logout\",id,{\r\n            headers: {token: `Bearer ${accessToken}`}\r\n        });\r\n        dispatch(logOutSuccess());\r\n        navigate(\"/login\");\r\n    } \r\n    catch(err){\r\n        dispatch(logOutFailed());\r\n    }\r\n}\r\n\r\n/// add token to header\r\nexport const getAllUser = async(accessToken, dispatch) => {\r\n    dispatch(getUserStart());\r\n    try{\r\n        const res = await axios.get('https://server-api-guke.onrender.com/v1/user', {\r\n            headers:{token: `Bearer ${accessToken}`}\r\n        });\r\n        dispatch(getUserSuccess(res.data));\r\n    } catch(err) {\r\n        dispatch(getUserFailed());\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,UAAU,EAAEC,YAAY,EAAEC,cAAc,EAAEC,eAAe,EAAEC,aAAa,EAAEC,WAAW,EAAEC,aAAa,EAAEC,YAAY,QAAQ,aAAa;AAC7J,SAASC,aAAa,EAAEC,YAAY,EAAEC,cAAc,QAAQ,aAAa;AAGzE,OAAO,MAAMC,SAAS,GAAG,OAAMC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,KAAK;EACxDD,QAAQ,CAACb,UAAU,EAAE,CAAC;EACtB,IAAG;IACC,MAAMe,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAC,oDAAoD,EAAEJ,IAAI,CAAC;IACxFC,QAAQ,CAACZ,YAAY,CAACc,GAAG,CAACE,IAAI,CAAC,CAAC;IAChCH,QAAQ,CAAC,GAAG,CAAC;EACjB,CAAC,CAAC,OAAMI,GAAG,EAAE;IACTL,QAAQ,CAACd,WAAW,EAAE,CAAC;EAC3B;AACJ,CAAC;AAED,OAAO,MAAMoB,YAAY,GAAG,OAAMP,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,KAAI;EAC1DD,QAAQ,CAACT,aAAa,EAAE,CAAC;EACzB,IAAG;IACC,MAAMN,KAAK,CAACkB,IAAI,CAAC,uDAAuD,EAAEJ,IAAI,CAAC;IAC/EC,QAAQ,CAACV,eAAe,EAAE,CAAC;IAC3BW,QAAQ,CAAC,QAAQ,CAAC;EACtB,CAAC,CAAC,OAAMI,GAAG,EAAC;IACRL,QAAQ,CAACX,cAAc,EAAE,CAAC;EAC9B;AACJ,CAAC;;AAID;;AAGA,OAAO,MAAMkB,MAAM,GAAG,OAAMP,QAAQ,EAAEQ,EAAE,EAAEP,QAAQ,EAAEQ,WAAW,EAAEC,QAAQ,KAAK;EAC1EV,QAAQ,CAACR,WAAW,EAAE,CAAC;EACvB,IAAG;IACC,MAAMkB,QAAQ,CAACP,IAAI,CAAC,qDAAqD,EAACK,EAAE,EAAC;MACzEG,OAAO,EAAE;QAACC,KAAK,EAAG,UAASH,WAAY;MAAC;IAC5C,CAAC,CAAC;IACFT,QAAQ,CAACP,aAAa,EAAE,CAAC;IACzBQ,QAAQ,CAAC,QAAQ,CAAC;EACtB,CAAC,CACD,OAAMI,GAAG,EAAC;IACNL,QAAQ,CAACN,YAAY,EAAE,CAAC;EAC5B;AACJ,CAAC;;AAED;AACA,OAAO,MAAMmB,UAAU,GAAG,OAAMJ,WAAW,EAAET,QAAQ,KAAK;EACtDA,QAAQ,CAACJ,YAAY,EAAE,CAAC;EACxB,IAAG;IACC,MAAMM,GAAG,GAAG,MAAMjB,KAAK,CAAC6B,GAAG,CAAC,8CAA8C,EAAE;MACxEH,OAAO,EAAC;QAACC,KAAK,EAAG,UAASH,WAAY;MAAC;IAC3C,CAAC,CAAC;IACFT,QAAQ,CAACH,cAAc,CAACK,GAAG,CAACE,IAAI,CAAC,CAAC;EACtC,CAAC,CAAC,OAAMC,GAAG,EAAE;IACTL,QAAQ,CAACL,aAAa,EAAE,CAAC;EAC7B;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}